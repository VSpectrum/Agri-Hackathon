!function(e){"use strict";function a(){var e=[{name:"Basil",imgsrc:"../assets/img/basil.jpg"},{name:"Bell Pepper",imgsrc:"../assets/img/bellpepper.jpg"},{name:"Carrot",imgsrc:"../assets/img/carrot.jpg"},{name:"Lettuce",imgsrc:"../assets/img/lettuce.jpg"},{name:"Onion",imgsrc:"../assets/img/onion.png"},{name:"Tomato",imgsrc:"../assets/img/tomato.jpg",intercrop:["Carrot, Eggplant"]},{name:"Artichoke",imgsrc:""}];n(".cropselection .croplist").empty(),n.each(e,function(e,a){var t=n("<div></div>",{"class":"col-md-2 crop","data-crop":a.name.toLowerCase(),"data-crop-img":""!==a.imgsrc?a.imgsrc:o}),s=n("<div></div",{"class":"image-container"}),i=n("<img/>",{src:""!==a.imgsrc?a.imgsrc:o}),c=n("<label></label>"),l=n("<input/>",{type:"checkbox",name:"crop_"+(a.name.indexOf(" ")<0?a.name.toLowerCase():a.name.split(" ").join("_").toLowerCase())});s.append(i),c.append(l,a.name),t.append(s,c),n(".croplist").append(t)})}function t(e){var a=[{valve:976,id:1},{valve:456,id:56},{valve:76535,id:34},{valve:34568,id:66},{valve:87854,id:87},{valve:4356,id:8},{valve:456,id:11},{valve:6567,id:76},{valve:43,id:885}];n(".valveassignment .valvelist").empty(),n.each(e,function(e,t){var s=n("<div></div>",{"class":"col-md-4 tile-wrapper"}),i=n("<article></article>",{"class":"tile index_"+e,"data-crop":t.name}),c=n("<div></div>",{"class":"row"}),l=n("<aside></aside>",{"class":"col-md-4"}),o=n("<div></div>",{"class":"image-container"}),r=n("<img/>",{src:t.imgsrc}),d=n("<div></div>",{"class":"col-md-8"}),p=n("<h2></h2>"),v=n("<label></label>"),m=n("<select></select>",{"data-index":"index_"+e}),h=n("<option value='default'>Choose</option>"),u=n("<input/>",{type:"checkbox",style:"display: none;",id:"index_"+e});m.append(h),n.each(a,function(e,a){var t="<option value='"+a.id+"'>"+a.valve+"</option>";m.append(t)}),o.append(r),l.append(o),p.append(t.name),v.append("Valve No."),d.append(p,v,m),c.append(l,d),i.append(c,u),s.append(i),n(".valvelist").append(s)})}function s(){switch(l.hash){case"":case"#/":case"#/home":n.get("../views/home.html",function(e){n("body").attr({"class":"homepage"}).html(e)});break;case"#/crops":var e=n.get("../views/crops.html",function(e){n("body").attr({"class":"cropselection"}).html(e)});e.then(function(){a()});break;case"#/valves":var e=n.get("../views/valves.html",function(e){n("body").attr({"class":"valveassignment"}).html(e)});e.then(function(){t(r)});break;case"#/success":n.get("../views/success.html",function(e){n("body").attr({"class":"success"}).html(e)})}}function i(){l.href="#/success"}var n=e.jQuery,c=e.console,l=e.location,o="../assets/img/nai.jpg",r=[];n(document).on("input",'.filter input[type="text"]',function(){var e=n(".croplist .crop"),a=n(this).val().toLowerCase();""!==a?n.each(e,function(e,t){var s=n(t).attr("data-crop");s.indexOf(a)>=0?n(t).show():n(t).hide()}):e.show()}),n(document).on("click",".next",function(e){if(n(this).hasClass("disabled"))c.log("Disabled No Action Taken..."),e.preventDefault();else{e.preventDefault();var a=n(".selected"),t=[];n.each(a,function(e,a){var s={id:"",name:n(a).attr("data-crop").replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}),imgsrc:n(a).attr("data-crop-img")};t.push(s)}),l.href="#/valves",r=t}}),n(document).on("click",".submit",function(e){if(n(this).hasClass("disabled"))c.log("Disabled No Action Taken..."),e.preventDefault();else{e.preventDefault();var a=n(".tile");n.each(a,function(e,a){var t=n(a).attr("data-crop"),s=n(a).attr("data-valve");c.log(t,s),i()})}}),n(document).on("click",".crop",function(){n(this).toggleClass("selected");var e=n(".selected").length>0?!0:!1;e?n(".next").removeClass("disabled"):n(".next").addClass("disabled")}),n(document).on("change",".tile select",function(){var e,a;"default"!==n(this).val()?(n("#"+n(this).attr("data-index")).prop("checked",!0),n("article.tile."+n(this).attr("data-index")).attr("data-valve",n(this).val())):(n("#"+n(this).attr("data-index")).prop("checked",!1),n("article.tile."+n(this).attr("data-index")).attr("data-valve","")),e=n('.tile input[type="checkbox"]:checked').length,a=n('.tile input[type="checkbox"]').length,a===e?n(".submit").removeClass("disabled"):n(".submit").addClass("disabled")}),n(document).ready(function(){s()}),n(e).on("hashchange",function(){s()})}(this);