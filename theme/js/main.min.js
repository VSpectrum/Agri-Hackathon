!function(e){"use strict";function a(){var e=[{name:"Basil",imgsrc:"../assets/img/basil.jpg"},{name:"Bell Pepper",imgsrc:"../assets/img/bellpepper.jpg"},{name:"Carrot",imgsrc:"../assets/img/carrot.jpg"},{name:"Lettuce",imgsrc:"../assets/img/lettuce.jpg"},{name:"Onion",imgsrc:"../assets/img/onion.png"},{name:"Tomato",imgsrc:"../assets/img/tomato.jpg",intercrop:["Carrot, Eggplant"]},{name:"Artichoke",imgsrc:""}];s(".cropselection .croplist").empty(),s.each(e,function(e,a){var t=s("<div></div>",{"class":"col-md-2 crop","data-crop":a.name.toLowerCase(),"data-crop-img":""!==a.imgsrc?a.imgsrc:l}),i=s("<div></div",{"class":"image-container"}),n=s("<img/>",{src:""!==a.imgsrc?a.imgsrc:l}),c=s("<label></label>"),o=s("<input/>",{type:"checkbox",name:"crop_"+(a.name.indexOf(" ")<0?a.name.toLowerCase():a.name.split(" ").join("_").toLowerCase())});i.append(n),c.append(o,a.name),t.append(i,c),s(".croplist").append(t)})}function t(e){var a=[{valve:976,id:1},{valve:456,id:56},{valve:76535,id:34},{valve:34568,id:66},{valve:87854,id:87},{valve:4356,id:8},{valve:456,id:11},{valve:6567,id:76},{valve:43,id:885}];s(".valveassignment .valvelist").empty(),s.each(e,function(e,t){var i=s("<div></div>",{"class":"col-md-4 tile-wrapper"}),n=s("<article></article>",{"class":"tile index_"+e,"data-crop":t.name}),c=s("<div></div>",{"class":"row"}),l=s("<aside></aside>",{"class":"col-md-4"}),o=s("<div></div>",{"class":"image-container"}),d=s("<img/>",{src:t.imgsrc}),r=s("<div></div>",{"class":"col-md-8"}),p=s("<h2></h2>"),v=s("<label></label>"),m=s("<select></select>",{"data-index":"index_"+e}),h=s("<option value='default'>Choose</option>"),u=s("<input/>",{type:"checkbox",style:"display: none;",id:"index_"+e});m.append(h),s.each(a,function(e,a){var t="<option value='"+a.id+"'>"+a.valve+"</option>";m.append(t)}),o.append(d),l.append(o),p.append(t.name),v.append("Valve No."),r.append(p,v,m),c.append(l,r),n.append(c,u),i.append(n),s(".valvelist").append(i)})}function i(){switch(c.hash){case"":case"#/":case"#/home":s.get("../views/home.html",function(e){s("body").attr({"class":"homepage"}).html(e)});break;case"#/crops":var e=s.get("../views/crops.html",function(e){s("body").attr({"class":"cropselection"}).html(e)});e.then(function(){a()});break;case"#/valves":var e=s.get("../views/valves.html",function(e){s("body").attr({"class":"valveassignment"}).html(e)});e.then(function(){t(o)})}}var s=e.jQuery,n=e.console,c=e.location,l="../assets/img/nai.jpg",o=[];s(document).on("input",'.filter input[type="text"]',function(){var e=s(".croplist .crop"),a=s(this).val().toLowerCase();""!==a?s.each(e,function(e,t){var i=s(t).attr("data-crop");i.indexOf(a)>=0?s(t).show():s(t).hide()}):e.show()}),s(document).on("click",".next",function(e){if(s(this).hasClass("disabled"))n.log("Disabled No Action Taken..."),e.preventDefault();else{e.preventDefault();var a=s(".selected"),t=[];s.each(a,function(e,a){var i={id:"",name:s(a).attr("data-crop").replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}),imgsrc:s(a).attr("data-crop-img")};t.push(i)}),c.href="#/valves",o=t}}),s(document).on("click",".submit",function(e){if(s(this).hasClass("disabled"))n.log("Disabled No Action Taken..."),e.preventDefault();else{e.preventDefault();var a=s(".tile");s.each(a,function(e,a){s(a).attr("data-crop"),s(a).attr("data-valve");s.post("").done()})}}),s(document).on("click",".crop",function(){s(this).toggleClass("selected");var e=s(".selected").length>0?!0:!1;e?s(".next").removeClass("disabled"):s(".next").addClass("disabled")}),s(document).on("change",".tile select",function(){var e,a;"default"!==s(this).val()?(s("#"+s(this).attr("data-index")).prop("checked",!0),s("article.tile."+s(this).attr("data-index")).attr("data-valve",s(this).val())):(s("#"+s(this).attr("data-index")).prop("checked",!1),s("article.tile."+s(this).attr("data-index")).attr("data-valve","")),e=s('.tile input[type="checkbox"]:checked').length,a=s('.tile input[type="checkbox"]').length,a===e?s(".submit").removeClass("disabled"):s(".submit").addClass("disabled")}),s(document).ready(function(){i()}),s(e).on("hashchange",function(){i()})}(this);